<!--
  MeasurementImportWindow.xaml
  Dialog window for importing measurement files and entering performance/pyrometer settings.
  Contains file selection for channels 1-10 and 11-20, performance settings grids, pyrometer number inputs, and import controls.
-->

<Window x:Class="fcb_thermo_app.Views.MeasurementImportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Import Measurement"
        Height="600"
        Width="700"
        Background="#F5F5F5"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
  <Border Margin="10"
          Padding="10"
          Background="{StaticResource WhiteBrush}"
          CornerRadius="14"
          BorderBrush="{StaticResource PrimaryBlueBrush}"
          BorderThickness="2">
    <Grid HorizontalAlignment="Center">
      <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="Auto"/>
      </Grid.RowDefinitions>

      <!-- Title -->
      <TextBlock Text="Import Measurement"
                 FontSize="22"
                 FontWeight="Bold"
                 Foreground="{StaticResource PrimaryBlueBrush}"
                 Margin="0"/>

      <!-- Reinforcement & File Selection-->
      <StackPanel Grid.Row="1"
                  Orientation="Horizontal"
                  Margin="0"
                  VerticalAlignment="Top"
                  HorizontalAlignment="Stretch">

        <!-- Reinforcement Checkbox -->
        <CheckBox Content="Reinforcement"
                  IsChecked="{Binding Reinforcement, Mode=TwoWay}"
                  FontWeight="SemiBold"
                  Foreground="{StaticResource PrimaryBlueBrush}"
                  VerticalAlignment="Center"
                  Margin="0,0,10,0">
          <CheckBox.ToolTip>
            <ToolTip Style="{StaticResource RoundedTooltipStyle}">
              Switch to reinforcement to enter reinforcement settings.
            </ToolTip>
          </CheckBox.ToolTip>
        </CheckBox>

        <!-- File Selection -->
        <StackPanel Orientation="Vertical">
          <Button Content="Select File Channels 1-10"
                  Style="{StaticResource RoundedButtonStyle}"
                  Click="SelectFileChannels1To10_Click">
            <Button.ToolTip>
              <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                Select the measurement file for channels 1-10.
              </ToolTip>
            </Button.ToolTip>
          </Button>
          <TextBlock x:Name="Channels1To10FilePathText"
                     VerticalAlignment="Center"
                     FontSize="8"
                     FontStyle="Italic"
                     HorizontalAlignment="Center"
                     Foreground="{StaticResource PrimaryBlueBrush}"/>
        </StackPanel>
        <StackPanel Orientation="Vertical">
          <Button Content="Select File Channels 11-20"
                  Style="{StaticResource RoundedButtonStyle}"
                  Click="SelectFileChannels11To20_Click">
            <Button.ToolTip>
              <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                Select the measurement file for channels 11-20.
              </ToolTip>
            </Button.ToolTip>
          </Button>
          <TextBlock x:Name="Channels11To20FilePathText"
                     VerticalAlignment="Center"
                     FontSize="8"
                     FontStyle="Italic"
                     HorizontalAlignment="Center"
                     Foreground="{StaticResource PrimaryBlueBrush}"/>
        </StackPanel>

        <!-- Fetch Last Used Button -->
        <StackPanel Orientation="Vertical">
          <Button Content="Fetch Last Used"
                  Click="FetchLastUsed_Click"
                  Style="{StaticResource RoundedButtonStyle}"
                  HorizontalAlignment="Right">
            <Button.ToolTip>
              <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                Load the last used measurement files for this model.
              </ToolTip>
            </Button.ToolTip>
          </Button>
          <TextBlock FontSize="8"/>
        </StackPanel>
      </StackPanel>

      <StackPanel Grid.Row="2"
                  Margin="0,0,0,10"
                  VerticalAlignment="Top">

        <!-- Performance/Pyrometer Settings Upper Main Body -->
        <StackPanel x:Name="UpperLowerStackPanel"
                    Margin="0,10,0,0">
          <StackPanel Orientation="Horizontal"
                      VerticalAlignment="Center">
            <TextBlock Text="Performance Settings (Upper Side):"
                       VerticalAlignment="Center"
                       FontWeight="SemiBold"
                       Foreground="{StaticResource PrimaryBlueBrush}"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Pyrometer Number:"
                       Margin="20,0,4,4"
                       VerticalAlignment="Center"/>
            <TextBox x:Name="PyrometerNumberUpperTextBox"
                     Style="{StaticResource RoundedInputStyle}"
                     Width="40"
                     Height="22"
                     VerticalAlignment="Center"
                     Text="">
              <TextBox.ToolTip>
                <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                  Enter pyrometer number for upper main body.
                </ToolTip>
              </TextBox.ToolTip>
            </TextBox>
          </StackPanel>
          <Grid x:Name="PerformanceSettingsGridUpper"
                Margin="0,0,0,10"/>

          <!--- Performance/Pyrometer Settings Lower Main Body -->
          <StackPanel Orientation="Horizontal"
                      VerticalAlignment="Center">
            <TextBlock Text="Performance Settings (Lower Side):"
                       VerticalAlignment="Center"
                       FontWeight="SemiBold"
                       Foreground="{StaticResource PrimaryBlueBrush}"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Pyrometer Number:"
                       Margin="20,0,4,4"
                       VerticalAlignment="Center"/>
            <TextBox x:Name="PyrometerNumberLowerTextBox"
                     Style="{StaticResource RoundedInputStyle}"
                     Width="40"
                     Height="22"
                     VerticalAlignment="Center"
                     Text="">
              <TextBox.ToolTip>
                <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                  Enter pyrometer number for lower main body.
                </ToolTip>
              </TextBox.ToolTip>
            </TextBox>
          </StackPanel>
          <Grid x:Name="PerformanceSettingsGridLower"/>
        </StackPanel>

        <!--- Performance/Pyrometer Settings Reinforcement -->
        <StackPanel x:Name="ReinforcementStackPanel"
                    Margin="0,10,0,0">
          <StackPanel Orientation="Horizontal"
                      VerticalAlignment="Center">
            <TextBlock Text="Performance Settings (Reinforcement):"
                       VerticalAlignment="Center"
                       FontWeight="SemiBold"
                       Foreground="{StaticResource PrimaryBlueBrush}"
                       Margin="0,0,0,4"/>
            <TextBlock Text="Pyrometer Number:"
                       Margin="20,0,4,4"
                       VerticalAlignment="Center"/>
            <TextBox x:Name="PyrometerNumberReinforcementTextBox"
                     Style="{StaticResource RoundedInputStyle}"
                     Width="40"
                     Height="22"
                     VerticalAlignment="Center"
                     Text="">
              <TextBox.ToolTip>
                <ToolTip Style="{StaticResource RoundedTooltipStyle}">
                  Enter pyrometer number for reinforcement.
                </ToolTip>
              </TextBox.ToolTip>
            </TextBox>
          </StackPanel>
          <Grid x:Name="ReinforcementGrid"/>
        </StackPanel>
      </StackPanel>

      <!-- Help & Import Button -->
      <TextBlock Grid.Row="3"
                 Text="To place the pyrometer, right click on the corresponding position in the upper grid."
                 VerticalAlignment="Center"
                 HorizontalAlignment="Left"
                 FontStyle="Italic"
                 FontSize="10"
                 Foreground="{StaticResource PrimaryBlueBrush}"/>
      <Button Grid.Row="3"
              Content="Import"
              Style="{StaticResource RoundedButtonStyle}"
              HorizontalAlignment="Right"
              Margin="0"
              Click="StartImport_Click"/>
    </Grid>
  </Border>
</Window>
